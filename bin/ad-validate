#!/usr/bin/env ruby

require 'rubygems'      if RUBY_VERSION < '1.9'
require 'backports/1.9' if RUBY_VERSION < '1.9'

require_relative '../lib/art-decomp'

$stdout.sync = true

ARGV.each do |file|
  print file
  puts Marshal.load(File.open file).all? { |d| print '.'; d.valid? }
end
