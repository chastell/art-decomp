#!/usr/bin/env ruby

require_relative '../lib/art-decomp'

fsm = ArtDecomp::FSM.from_kiss ARGV.first

f_seps = fsm.beta_f.seps

i_seps = Array.new(fsm.input_count)  { |i| fsm.beta_x(Set[i]).seps & f_seps }
o_seps = Array.new(fsm.output_count) { |o| fsm.beta_y(Set[o]).seps          }

puts "useful separations: #{i_seps.map &:size}"
puts "unnecessary inputs: #{(0...fsm.input_count).select { |i| i_seps[i].empty? }}"
